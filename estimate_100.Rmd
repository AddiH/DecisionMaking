```{r}
load('data/all_studies.rdata')

data_list <- list(
  Fridberg = Fridberg, 
  Horstmann = Horstmann, 
  Kjome = Kjome, 
  Maia = Maia, 
  SteingroverInPrep = SteingroverInPrep, 
  Premkumar = Premkumar, 
  Wood = Wood, 
  Worthy = Worthy, 
  Steingroever2011 = Steingroever2011, 
  Wetzels = Wetzels
)

data150trials <- list()

for (study_name in names(data_list)) {
  df <- data_list[[study_name]]
  
  # Identify and count unique subject IDs
  subIDs <- unique(df$Subj)
  n_subs <- length(subIDs)
  n_trials <- nrow(df)/n_subs
  
  if(n_trials == 100){
    data150trials[[study_name]] <- df
  }
}

combined_df <- do.call(rbind, lapply(names(data150trials), function(study_name) {
  df <- data150trials[[study_name]]
  df$Subj <- paste(study_name, df$Subj, sep = "_")  # Prefix the study name to the Subj IDs
  return(df)
}))


df <- combined_df

# identify and count unique subject IDs
subIDs <- unique(df$Subj)
n_subs <- length(subIDs)
n_trials <- length(df$Subj)/n_subs
```

